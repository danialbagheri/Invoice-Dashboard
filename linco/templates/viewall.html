{% extends "base.html" %}

{% block head_title %}Add New Supplier{% endblock %}
{% block myhead %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.8.0/css/bootstrap-datepicker.css" crossorigin="anonymous">

{% endblock myhead %}
{% block content %}
{% load static %}
<div class="container-fluid">
<div class="row">

	<div class="form-inline">
        <form class='input-group' action="">

          <div class="form-row">
              <div class="form-group col-md-4 col-lg-4 col-12">
    		       	<label class="">Filter by date: </label>
              	<input type="month" class="form-control" name="filter_date" />
              </div>

              <div class="form-group col-md-4 col-lg-4 col-12">
                <label for="sel1" >Payment Method:</label>
                <select class="form-control" id="sel1" name="payment_method">
                  <option></option>
                  <option>Credit Card</option>
                  <option>Bank Transfer</option>
                  <option>Cheque</option>
                  <option>Cash</option>
                </select>
              </div>

            <div class="form-group col-md-4 col-lg-4 col-12">
                <label for="sel1" >Company Name:</label>
                <select class="form-control" id="sel1" name="organisation">
                  <option></option>
                  <option>Linco Care</option>
                  <option>QHorizons</option>
                </select>
                <button type="submit" class="btn btn-secondary my-1">Submit</button>
            </div>
          </div>

        
       </form>
	</div>
</div>
<div class="col-lg-12">
    	<table class="table table-hover">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Supplier Name</th>
            <th scope="col">Date</th>
            <th scope="col">Amount</th>
            <th scope="col">Payment Method</th>
            <th scope="col">Expense Type</th>
            <th scope="col">Links</th>
          </tr>
        </thead>
        <tbody>
          {% for a in showall %}
          <tr>   
            <th scope="row">{{ forloop.counter }}</th>
            <td>{{ a.supplier_name }}</td>
            <td>{{ a.invoice_date }}</td>
            {% if a.refund == True %}
              <td class="table-success">+ £{{ a.invoice_value|floatformat:-2 }}</td>
            {% else %}
              <td>£{{ a.invoice_value|floatformat:-2 }}</td>
            {% endif %}
            <td>{{ a.payment_method }}</td>
            <td>{{ a.expense_type }}</td>
            <td><a href="{{ a.invoice }}"> Download</a></td>
          </tr>
          {% endfor %}
        </tbody>
      </table>

</div>
</div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/js/bootstrap-datetimepicker.min.js"></script>	

<script type="text/javascript">
    $(function () {
        $('#datetimepicker10').datetimepicker({
            viewMode: 'years',
            format: 'MM/YYYY'
        });
    });
</script>

{% endblock %}
